# 什么是事务
什么是事务？事务就是指一组数据库操作集合。直白说，事务就是为一组数据库动作加上了一个边界，在这个边界内的所有数据库操作，都要满足一些特性要求。

# ACID特性
事务的基本特性有四点：
1. 原子性
2. 隔离性
3. 持久性
4. 一致性

## 持久性
以上四个特性中，持久性是数据库的基本特性，是数据库操作的最基本要求。数据库产品本身就是作为持久化数据而设计的，数据库要保证存储的数据不丢失。事务操作的基本要求也是如此，无论如何，当事务的一组操作成功执行后，所有的结果必须被数据库系统永久保存，或者一组操作回滚后，数据库系统也必须对原数据的持久化做出保证。


## 原子性
是保证事务内所有的操作必须全部达成，否则全部回滚。

## 隔离性
是为了解决并发事务之间数据的可见性以及数据冲突的。在多线程情况下，有多个事务在一起执行，这些事务操作影响的数据范围会有重叠的情况，如何决策这种事务之间的影响，是隔离性要解决的问题。简单来理解，就是并发的多个事务之间要实现某种程度的隔离。至于何种程度，取决于应用层使用数据的场景和性能需求。
隔离性实际等价于可串行化。可串行化指对同一个数据对象的操作是串行执行的。隔离的级别的本质也是串行化的程度。最高的隔离级别就是完全的串行化，这种级别的串行化将所有的对同一个数据库对象的操作全部同步串行调度。   

隔离级别作用的是当前的事务，对其他的事务不产生影响。即隔离级别影响范围是事务粒度的，不同的事务可以制定不同的隔离级别。再者，隔离级别影响的是数据的可见性，换言之是对数据的查询动作。

事务的隔离级别是通过各种锁或者相同性质的机制来实现的。

### 读未提交
即读脏数据。脏数据表示未提交的事务所执行的数据变更。这是最宽松的隔离级别。

### 串行化
对相同数据库对象的操作完全串行化，也是最严格的隔离级别。

### 读已提交
读取其他事务提交后的数据变更。

### 可重复读
即同一事务内的查询操作，前后可以分别
## 一致性
实际上是数据库事务的本质目标一个表述。关键的原子性和隔离性特性的设计实现是为了保证数据库事务操作的一致性特性：在操作前和操作后，所有相关数据记录以及数据库状态必须保证处于一致性的状态。这个一致性既有数据库本身的各种约束，同时也包含着数据记录中所隐含着的业务逻辑的一致性。

# 关键机制
要实现数据的持久化，数据就必然要保存到磁盘上。在一组数据库操作中，如果每一个操作都作用到磁盘上，这样虽然可以保证每一个步骤的持久化，但是磁盘的读写性能是很差的。与之相反的处理是让数据都保存在内存中，最终再刷新到磁盘上。这样可以保证良好的性能，但是保存在内存中的数据是不安全的，硬件或者软件的故障就会导致内存中的数据丢失。所以要在这两者之间找到一个平衡，这也是数据库系统的关键机制设计。








